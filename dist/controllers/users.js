"use strict";

const User = require("../models/user");

exports.getUsers = (req, res, next) => {
  User.findAll({
    attributes: ["id", "name", "email"]
  }).then(users => {
    if (!users) {
      return res.status(404).json({
        message: "There are no users"
      });
    }

    res.status(200).json({
      users: users
    });
  }).catch(err => {
    const error = new Error(err);
    error.httpStatusCode = 500;
    return next(error);
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVycy91c2Vycy5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImV4cG9ydHMiLCJnZXRVc2VycyIsInJlcSIsInJlcyIsIm5leHQiLCJmaW5kQWxsIiwiYXR0cmlidXRlcyIsInRoZW4iLCJ1c2VycyIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsIkVycm9yIiwiaHR0cFN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBcEI7O0FBRUFDLE9BQU8sQ0FBQ0MsUUFBUixHQUFtQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNyQ04sRUFBQUEsSUFBSSxDQUFDTyxPQUFMLENBQWE7QUFDWEMsSUFBQUEsVUFBVSxFQUFFLENBQUMsSUFBRCxFQUFPLE1BQVAsRUFBZSxPQUFmO0FBREQsR0FBYixFQUdHQyxJQUhILENBR1FDLEtBQUssSUFBSTtBQUNiLFFBQUksQ0FBQ0EsS0FBTCxFQUFZO0FBQ1YsYUFBT0wsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsUUFBQUEsT0FBTyxFQUFFO0FBQVgsT0FBckIsQ0FBUDtBQUNEOztBQUVEUixJQUFBQSxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNuQkYsTUFBQUEsS0FBSyxFQUFFQTtBQURZLEtBQXJCO0FBR0QsR0FYSCxFQVlHSSxLQVpILENBWVNDLEdBQUcsSUFBSTtBQUNaLFVBQU1DLEtBQUssR0FBRyxJQUFJQyxLQUFKLENBQVVGLEdBQVYsQ0FBZDtBQUNBQyxJQUFBQSxLQUFLLENBQUNFLGNBQU4sR0FBdUIsR0FBdkI7QUFDQSxXQUFPWixJQUFJLENBQUNVLEtBQUQsQ0FBWDtBQUNELEdBaEJIO0FBaUJELENBbEJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvdXNlclwiKTtcblxuZXhwb3J0cy5nZXRVc2VycyA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBVc2VyLmZpbmRBbGwoe1xuICAgIGF0dHJpYnV0ZXM6IFtcImlkXCIsIFwibmFtZVwiLCBcImVtYWlsXCJdXG4gIH0pXG4gICAgLnRoZW4odXNlcnMgPT4ge1xuICAgICAgaWYgKCF1c2Vycykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIlRoZXJlIGFyZSBubyB1c2Vyc1wiIH0pO1xuICAgICAgfVxuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHVzZXJzOiB1c2Vyc1xuICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGVycik7XG4gICAgICBlcnJvci5odHRwU3RhdHVzQ29kZSA9IDUwMDtcbiAgICAgIHJldHVybiBuZXh0KGVycm9yKTtcbiAgICB9KTtcbn07XG4iXX0=